{% extends "base.html" %}
{% block title %}Reservations{% endblock %}

{% block body %}
<h1 id="reservations-header">Reservations</h1>
<h2>Add new reservation</h2>
<form method="POST" action="{% url 'new_reservation' %}">
    <div class="form-group">
        <label for="{{ form.name.id_for_label }}">Name</label>
        {{ form.name }}
        <small class="form-text text-muted">{{ form.name.errors }}</small>
    </div>
    <div class="form-group">
        <label for="{{ form.table.id_for_label }}">Table</label>
        {{ form.table }}
        <small class="form-text text-muted">{{ form.name.table }}</small>
    </div>
    <div class="form-group">
        <label for="{{ form.date.id_for_label }}">Date</label>
        {{ form.date }}
        <small class="form-text text-muted">{{ form.date.errors }}</small>
    </div>
    <div class="form-group">
        <label for="{{ form.telephone.id_for_label }}">Phone</label>
        {{ form.telephone }}
        <small class="form-text text-muted">{{ form.telephone.errors }}</small>
    </div>
    {% csrf_token %}
    <button id="submit-button" type="submit" class="btn btn-primary">Submit</button>
</form>
<h2>Existing reservations</h2>
<table class="table">
    <thead class="thead-dark">
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Action</th>
    </tr>
    </thead>
    {% for reservation in reservations %}
    <tr class="reservation-item">
        <th scope="row">{{ reservation.id }}</th>
        <td>
            <a class="details-link" href="{% url 'show_reservation' reservation.id %}">{{ reservation.name }}</a>
        </td>
        <td>
            <a class="delete-link" href="{% url 'delete_reservation' reservation.id %}">delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
<hr>
<p>
    <a id="reservations_link" href="{% url 'home' %}">back</a>
</p>
{% endblock %}